"use strict";var appsLocalization={daysText:"days",nightsText:"nights",bookedText:"booked",unavailableText:"unavailable",partiallyBookedText:"partially booked",partiallyUnavailableText:"partially unavailable"};jQuery(document).ready(function($){function setCookie(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+";"+expires+";path=/"}function getCookie(cname){for(var name=cname+"=",decodedCookie=decodeURIComponent(document.cookie),ca=decodedCookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "===c.charAt(0);)c=c.substring(1);if(0===c.indexOf(name))return c.substring(name.length,c.length)}return""}function deleteCookie(){var exp="Thu, 01 Jan 1970 00:00:00 UTC";setCookie("cookie_color","",exp),setCookie("cookie_header","",exp),setCookie("cookie_page_header","",exp),location.reload()}function setTheme(theme){var currentClass=siteBody.attr("class");void 0===currentClass&&(currentClass=""),currentClass=currentClass?currentClass.split(/\s+/):[];for(var i=currentClass.length-1;i>=0;i--)"brand-"===currentClass[i].substr(0,6)&&currentClass.splice(i,1);currentClass.push(theme);var newClass=currentClass.join(" ");siteBody.attr("class",newClass),"brand-default"===theme?(navbarBrandImage.attr("src","assets/images/header-logo-default.png"),footerBrandImage.attr("src","assets/images/footer-logo-default.png")):"brand-yellow"===theme?(navbarBrandImage.attr("src","assets/images/header-logo-yellow.png"),footerBrandImage.attr("src","assets/images/footer-logo-yellow.png")):"brand-red"===theme?(navbarBrandImage.attr("src","assets/images/header-logo-red.png"),footerBrandImage.attr("src","assets/images/footer-logo-red.png")):"brand-orange"===theme?(navbarBrandImage.attr("src","assets/images/header-logo-orange.png"),footerBrandImage.attr("src","assets/images/footer-logo-orange.png")):"brand-green"===theme&&(navbarBrandImage.attr("src","assets/images/header-logo-green.png"),footerBrandImage.attr("src","assets/images/footer-logo-green.png"))}function nextStartDate(current){var theCurrent=moment(current).valueOf(),startOfDay=moment(current).startOf("day").valueOf(),diff=theCurrent-startOfDay,startDates=start_booked.concat(start_unavailable);startDates.sort();for(var d=0;d<startDates.length;d++){var parts=startDates[d].split("-"),theDate=moment(new Date(parts[0],parts[1]-1,parts[2]));if(theDate.valueOf()>startOfDay)return theDate.valueOf()+diff}return!1}var siteBody=$("body"),siteHeader=$("#header"),navbarBrandImage=$("#navbar-brand img"),footerBrandImage=$("#footer-brand img"),themeOptionsItem=$("#theme-options a"),menuDropdown=$("#navbar > .nav > .dropdown");menuDropdown.each(function(){$(this).on("click",function(){$(this).toggleClass("expand-menu"),menuDropdown.not(this).removeClass("expand-menu")})}),$(".slide-topbar").slick({dots:!1,arrows:!1,infinite:!0,speed:1e3,slidesToShow:1,vertical:!0,verticalSwiping:!0,autoplay:!0,autoplaySpeed:2e3}),$(this).scrollTop()>170?siteHeader.addClass("scrolled"):siteHeader.removeClass("scrolled"),$(window).on("scroll",function(){$(this).scrollTop()>170?siteHeader.addClass("scrolled"):siteHeader.removeClass("scrolled")});var siteBody=$("body"),btnHeaderStyle=$("#btn-header-style"),headerStyleOption=$("#header-style a"),caret=' <span class="caret"></span>',customizer=$("#customizer"),btnPageHeaderStyle=$("#btn-page-header-style"),pageHeaderStyleOption=$("#page-header-style a");$("#reset-button").on("click",function(e){deleteCookie()}),function(){getCookie("cookie_color")&&siteBody.addClass(getCookie("cookie_color")),getCookie("cookie_header")&&(siteBody.removeClass("header-1 header-2 header-3"),siteBody.addClass(getCookie("cookie_header"))),getCookie("cookie_page_header")&&(siteBody.removeClass("page-header-1 page-header-2 page-header-3 page-header-4"),siteBody.addClass(getCookie("cookie_page_header")))}(),$("#customizer-panel").on("click",function(){customizer.toggleClass("customizer-open")}),$("#close-customizer").on("click","a",function(){customizer.removeClass("customizer-open")}),$(document).on("click",function(e){0===$(e.target).closest("#customizer").length&&customizer.removeClass("customizer-open")});var styleHeader=getCookie("cookie_header");if(styleHeader){var styleHeaderValue=$("a#"+styleHeader).html();styleHeaderValue&&(btnHeaderStyle.html(styleHeaderValue),btnHeaderStyle.val(styleHeaderValue).change())}$("#header-style").on("click","a",function(event){var headerStyle=$(this).attr("id"),headerStyleName=$(this).attr("title");return headerStyleOption.removeClass("active"),$(this).addClass("active"),"header-1"===headerStyle?siteBody.removeClass(function(index,className){return(className.match(/(^|\s)header-\S+/g)||[]).join(" ")}):"header-2"===headerStyle?siteBody.removeClass(function(index,className){return(className.match(/(^|\s)header-\S+/g)||[]).join(" ")}):"header-3"===headerStyle&&siteBody.removeClass(function(index,className){return(className.match(/(^|\s)header-\S+/g)||[]).join(" ")}),siteBody.addClass(headerStyle),btnHeaderStyle.html(headerStyleName+caret),btnHeaderStyle.val($(this).text()),setCookie("cookie_header",headerStyle),event.preventDefault(),!1});var stylePageHeader=getCookie("cookie_page_header");if(stylePageHeader){var stylePageHeaderValue=$("a#"+stylePageHeader).html();stylePageHeaderValue&&(btnPageHeaderStyle.html(stylePageHeaderValue),btnPageHeaderStyle.val(stylePageHeaderValue).change())}$("#page-header-style").on("click","a",function(event){var pageHeaderStyle=$(this).attr("id"),pageHeaderStyleName=$(this).attr("title");return pageHeaderStyleOption.removeClass("active"),$(this).addClass("active"),"page-header-1"===pageHeaderStyle?siteBody.removeClass(function(index,className){return(className.match(/(^|\s)page-header-\S+/g)||[]).join(" ")}):"page-header-2"===pageHeaderStyle?siteBody.removeClass(function(index,className){return(className.match(/(^|\s)page-header-\S+/g)||[]).join(" ")}):"page-header-3"===pageHeaderStyle?siteBody.removeClass(function(index,className){return(className.match(/(^|\s)page-header-\S+/g)||[]).join(" ")}):"page-header-4"===pageHeaderStyle&&siteBody.removeClass(function(index,className){return(className.match(/(^|\s)page-header-\S+/g)||[]).join(" ")}),siteBody.addClass(pageHeaderStyle),btnPageHeaderStyle.html(pageHeaderStyleName+caret),btnPageHeaderStyle.val($(this).text()),setCookie("cookie_page_header",pageHeaderStyle),event.preventDefault(),!1});var colorTemplate=getCookie("cookie_color");colorTemplate?($("#theme-options a").removeClass("active"),$("a#"+colorTemplate).addClass("active"),setTheme(colorTemplate)):setTheme("brand-default"),$("#theme-options").on("click","a",function(event){var theme=$(this).attr("id");setTheme(theme),themeOptionsItem.removeClass("active"),$(this).addClass("active"),setCookie("cookie_color",theme),event.preventDefault()}),$("#property-search-result.sidebar-map").length&&function(){var mapWrapper=$(".map-wrapper"),searchResult=$("#property-search-result .container");$(window).scroll(function(){var header=$("#header"),idMap=$(".map-wrapper #map"),contentHeight=($("#property-search-result").offset().top,$(".search-result-content").height()-72),heightHeader=($("#footer").position().top,$(window).scrollTop(),$("#header").height());header.hasClass("scrolled")?(mapWrapper.addClass("on-scrolled"),$(window).width()>991?mapWrapper.css("top",0):$(window).width()>1198?(mapWrapper.css("top","72px"),idMap.css("height","100vh !important")):$(this).scrollTop()>contentHeight?(mapWrapper.addClass("sticky-off"),mapWrapper.css("top","auto")):mapWrapper.removeClass("sticky-off")):(mapWrapper.removeClass("on-scrolled"),$(window).width()>991&&mapWrapper.css("top",heightHeader))}),$(window).ready(function(){$(window).width()>991?searchResult.removeClass("container"):$(window).width()>1200&&mapWrapper.css("top","165px")})}();if($("#booking-calendar").length){var booked=$("#booking-calendar").data("booked")||[],unavailable=$("#booking-calendar").data("unavailable")||[],midday=$("#booking-calendar").data("midday")||!1,start_booked=[],full_booked=[],end_booked=[],start_unavailable=[],full_unavailable=[],end_unavailable=[];booked.sort(),unavailable.sort();for(var lastCheck=moment(new Date(1900,0,1)),b=0;b<booked.length;b++){var parts=booked[b].split("-"),theDate=new Date(parts[0],parts[1]-1,parts[2]),dayWrapper=moment(theDate),beforeDayWrapper=moment(theDate).subtract(1,"days"),diff=dayWrapper.diff(lastCheck,"days");if(midday){if(diff>1)start_booked.push(booked[b]);else if(1==diff&&end_booked.indexOf(dayWrapper.format("YYYY-MM-DD"))>=0){full_booked.push(dayWrapper.format("YYYY-MM-DD"));var index=end_booked.indexOf(dayWrapper.format("YYYY-MM-DD"));end_booked.splice(index,1)}end_booked.push(moment(theDate).add(1,"days").format("YYYY-MM-DD"))}else if(diff>1)start_booked.push(booked[b]);else if(1==diff&&(end_booked.push(booked[b]),end_booked.indexOf(beforeDayWrapper.format("YYYY-MM-DD"))>=0)){full_booked.push(beforeDayWrapper.format("YYYY-MM-DD"));var index=end_booked.indexOf(beforeDayWrapper.format("YYYY-MM-DD"));end_booked.splice(index,1)}lastCheck=dayWrapper}for(var lastCheck=moment(new Date(1900,0,1)),u=0;u<unavailable.length;u++){var parts=unavailable[u].split("-"),theDate=new Date(parts[0],parts[1]-1,parts[2]),dayWrapper=moment(theDate),beforeDayWrapper=moment(theDate).subtract(1,"days"),diff=dayWrapper.diff(lastCheck,"days");if(midday){if(diff>1)start_unavailable.push(unavailable[u]);else if(1==diff&&end_unavailable.indexOf(dayWrapper.format("YYYY-MM-DD"))>=0){full_unavailable.push(dayWrapper.format("YYYY-MM-DD"));var index=end_unavailable.indexOf(dayWrapper.format("YYYY-MM-DD"));end_unavailable.splice(index,1)}end_unavailable.push(moment(theDate).add(1,"days").format("YYYY-MM-DD"))}else if(diff>1)start_unavailable.push(unavailable[u]);else if(1==diff&&(end_unavailable.push(unavailable[u]),end_unavailable.indexOf(beforeDayWrapper.format("YYYY-MM-DD"))>=0)){full_unavailable.push(beforeDayWrapper.format("YYYY-MM-DD"));var index=end_unavailable.indexOf(beforeDayWrapper.format("YYYY-MM-DD"));end_unavailable.splice(index,1)}lastCheck=dayWrapper}$("#booking-calendar").dateRangePicker({startDate:new Date,showTopbar:!1,inline:!0,container:"#booking-calendar",alwaysOpen:!0,singleMonth:!0,stickyMonths:!0,selectForward:!0,extraClass:midday?"midday":"",hoveringTooltip:function(days,startTime,hoveringTime){return midday?days>1?days-1+" "+appsLocalization.nightsText:"":days>1?days+" "+appsLocalization.daysText:""},beforeShowDay:function(t){var date=moment(t).format("YYYY-MM-DD"),valid=!0,_class="",_tooltip="";if(start_booked.indexOf(date)>=0){if(midday)var valid=!0,_tooltip=appsLocalization.partiallyBookedText;else var valid=!1,_tooltip=appsLocalization.bookedText;_class+=" first-date-booked booked"}else if(end_booked.indexOf(date)>=0){if(midday)var valid=!1,_tooltip=appsLocalization.partiallyBookedText;else var valid=!1,_tooltip=appsLocalization.bookedText;_class+=" last-date-booked booked"}else if(full_booked.indexOf(date)>=0){var valid=!1,_tooltip=appsLocalization.bookedText;_class+=" booked"}else if(start_unavailable.indexOf(date)>=0){if(midday)var valid=!0,_tooltip=appsLocalization.partiallyUnavailableText;else var valid=!1,_tooltip=appsLocalization.unavailableText;_class+=" first-date-unavailable unavailable"}else if(end_unavailable.indexOf(date)>=0){if(midday)var valid=!1,_tooltip=appsLocalization.partiallyUnavailableText;else var valid=!1,_tooltip=appsLocalization.unavailableText;_class+=" last-date-unavailable unavailable"}else if(full_unavailable.indexOf(date)>=0){var valid=!1,_tooltip=appsLocalization.unavailableText;_class+=" unavailable"}return[valid,_class,_tooltip]}}).bind("datepicker-first-date-selected",function(event,obj){if($("#booking-calendar").removeClass("select-first"),midday){var selectedDate=obj.date1,nextStart=nextStartDate(selectedDate);$("#booking-calendar").find(".first-date-booked, .first-date-unavailable").each(function(){$(this).attr("time")==nextStart&&$(this).removeClass("invalid").addClass("valid")}),$("#booking-calendar").find(".last-date-booked, .last-date-unavailable").each(function(){$(this).attr("time");$(this).removeClass("valid").addClass("invalid")})}}).bind("datepicker-change",function(event,obj){$("#booking-calendar").addClass("select-first"),midday&&($("#booking-calendar").find(".first-date-booked, .first-date-unavailable").each(function(){$(this).addClass("invalid").removeClass("valid")}),$("#booking-calendar").find(".last-date-booked, .last-date-unavailable").each(function(){$(this).addClass("valid").removeClass("invalid")}))}).find(".first-date-booked, .first-date-unavailable, .last-date-booked, .last-date-unavailable").each(function(){midday&&($(this).hasClass("first-date-booked")||$(this).hasClass("first-date-unavailable")?$(this).addClass("invalid").removeClass("valid"):($(this).hasClass("last-date-booked")||$(this).hasClass("last-date-unavailable"))&&$(this).addClass("valid").removeClass("invalid"))})}var now=new Date,tomorrow=moment().add(1,"day").format("YYYY-MM-DD"),afterTomorrow=moment().add(2,"day").format("YYYY-MM-DD");$("#nb-start-date").val(tomorrow);var today_day=now.getDay();$("#nb-end-date").val(afterTomorrow),$("#nb-start-date").length&&$("#nb-start-date").dateRangePicker({format:"YYYY-MM-DD",autoClose:!0,singleDate:!0,showShortcuts:!1,singleMonth:!0,startDate:tomorrow}),$("#nb-end-date").length&&$("#nb-end-date").dateRangePicker({format:"YYYY-MM-DD",extraClass:"end-date-wrapper",autoClose:!0,singleDate:!0,showShortcuts:!1,singleMonth:!0,startDate:"+1d"}).bind("datepicker-change",function(event,obj){var firstValue=$("#nb-start-date").val(),startAfterFirst=moment(firstValue,"YYYY-MM-DD").add(1,"day").startOf("day").valueOf(),afterFirst=moment(firstValue,"YYYY-MM-DD").add(1,"day").format("YYYY-MM-DD");moment(obj.value,"YYYY-MM-DD").startOf("day").valueOf()<startAfterFirst&&$("#nb-end-date").data("dateRangePicker").setStart(afterFirst)}),$(".btn-toggle-search").on("click",function(e){$(this).toggleClass("active"),$(this).parents(".form-body").find(".advanced-search").slideToggle(100),e.preventDefault()}),$(".btn-compare").on("click",function(e){$(this).addClass("active"),$("#sidebar-compare").addClass("active"),$("#customizer-panel").hide(),e.preventDefault()}),$(".compare-toggle").on("click",function(e){$("#sidebar-compare").hasClass("active")?($(this).parents("#sidebar-compare").removeClass("active"),$("#customizer-panel").show()):($(this).parents("#sidebar-compare").addClass("active"),$("#customizer-panel").hide()),e.preventDefault()}),$(".property-compare-wrapper").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,responsive:[{breakpoint:2e3,settings:"unslick"},{breakpoint:920,settings:{slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!0}}]}),$(".secondary-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,asNavFor:".secondary-slider-nav",responsive:[{breakpoint:480,settings:{dots:!0,fade:!1}}]}),$(".secondary-slider-nav").slick({slidesToShow:4,slidesToScroll:1,asNavFor:".secondary-slider",dots:!1,arrows:!1,focusOnSelect:!0}),$(".property-slider").slick({slidesToShow:1,slidesToScroll:1,arrows:!1,dots:!1,asNavFor:"#property-slider-nav"}),$(".property-slider-nav").slick({slidesToShow:5,slidesToScroll:1,asNavFor:"#property-slider",dots:!1,focusOnSelect:!0,centerMode:!0,responsive:[{breakpoint:768,settings:{slidesToShow:3}}]}),$(".featured-property-slider").slick({slidesToShow:1,slidesToScroll:1,dots:!1,autoplay:!0,autoplaySpeed:7e3,pauseOnHover:!0}),$(".product-slider").slick({slidesToShow:3,slidesToScroll:1,prevArrow:$(".slide-left"),nextArrow:$(".slide-right"),dots:!1,autoplay:!0,autoplaySpeed:7e3,pauseOnHover:!0,responsive:[{breakpoint:992,settings:{slidesToShow:3}},{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]}),$(".content-slider").slick({vertical:!0,slidesToShow:1,slidesToScroll:1,prevArrow:$(".content-left"),nextArrow:$(".content-right"),dots:!1,autoplay:!0,autoplaySpeed:7e3,pauseOnHover:!0}),$("#sale-range-feet, #rent-range-feet, #book-range-feet").ionRangeSlider({type:"double",min:$(this).data("min"),max:$(this).data("max"),from:$(this).data("from"),to:$(this).data("to"),hide_min_max:!0,hide_from_to:!1,grid:!1,postfix:"",max_postfix:""}),$("#sale-range-price, #rent-range-price, #book-range-price").ionRangeSlider({type:"double",min:$(this).data("min"),max:$(this).data("max"),from:$(this).data("from"),to:$(this).data("to"),hide_min_max:!0,hide_from_to:!1,grid:!1,prefix:""}),$(".popup-gallery").magnificPopup({delegate:"a",type:"image",tLoading:"Loading image #%curr%...",mainClass:"mfp-img-mobile",gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},image:{tError:'<a href="%url%">The image #%curr%</a> could not be loaded.',titleSrc:function(item){return item.el.attr("title")}}})});